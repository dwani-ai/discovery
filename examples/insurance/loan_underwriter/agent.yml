# agent.yaml
name: loan-underwriter
model: 
  provider: litellm
  model: qwen3-coder
  api_base: "http://localhost:8000/v1"  # Dwani

root_agent:
  name: orchestrator
  instruction: |
    Process loan applications:
    1. data_ingestion → fetch APIs  
    2. risk_policy → score + policy
    3. report → RiskReport JSON
  tools:
    - data_ingestion
    - risk_policy  
    - report

data_ingestion:
  name: data_agent
  instruction: "Fetch credit, employment, fraud, bank data."
  tools:
    - fetch_credit_bureau
    - fetch_employment_verification
    - fetch_fraud_signals
    - fetch_bank_statement_analysis

risk_policy:
  name: risk_agent
  instruction: "Compute risk score + policy decision."
  tools:
    - call_risk_model
    - evaluate_policy

report:
  name: report_agent
  instruction: "Generate RiskReport JSON."
  tools:
    - build_risk_report

tools:
  module: src.tools
